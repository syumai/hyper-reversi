require=function(r,e,n){function t(n,o){function i(r){return t(i.resolve(r))}function f(e){return r[n][1][e]||e}if(!e[n]){if(!r[n]){var c="function"==typeof require&&require;if(!o&&c)return c(n,!0);if(u)return u(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}i.resolve=f;var a=e[n]=new t.Module;r[n][0].call(a.exports,i,a,a.exports)}return e[n].exports}function o(){this.bundle=t,this.exports={}}var u="function"==typeof require&&require;t.Module=o,t.modules=r,t.cache=e,t.parent=u;for(var i=0;i<n.length;i++)t(n[i]);return t}({8:[function(require,module,exports) {
"use strict";function e(e,n){for(var t,r=[],o=[],i=arguments.length;i-- >2;)r.push(arguments[i]);for(;r.length;)if((t=r.pop())&&t.pop)for(i=t.length;i--;)r.push(t[i]);else null!=t&&!0!==t&&!1!==t&&o.push(t);return"function"==typeof e?e(n||{},o):{nodeName:e,attributes:n||{},children:o,key:n&&n.key}}function n(e,n,t,r){var o,i=[],u=r&&r.children[0]||null,l=u&&function e(n,t){return{nodeName:n.nodeName.toLowerCase(),attributes:{},children:t.call(n.childNodes,function(n){return 3===n.nodeType?n.nodeValue:e(n,t)})}}(u,[].map),a=s(e),f=s(n);return d(function e(n,t,r){for(var o in r)"function"==typeof r[o]?function(e,o){r[e]=function(e){return"function"==typeof(e=o(e))&&(e=e(p(n,a),r)),e&&e!==(t=p(n,a))&&!e.then&&d(a=h(n,s(t,e),a)),e}}(o,r[o]):e(n.concat(o),t[o]=t[o]||{},r[o]=s(r[o]))}([],a,f)),f;function c(){o=!o;var e=t(a,f);for(r&&!o&&(u=function e(n,t,r,o,u,l){if(o===r);else if(null==r)t=n.insertBefore(N(o,u),t);else if(o.nodeName&&o.nodeName===r.nodeName){!function(e,n,t,r){for(var o in s(n,t))t[o]!==("value"===o||"checked"===o?e[o]:n[o])&&m(e,o,t[o],r,n[o]);t.onupdate&&i.push(function(){t.onupdate(e,n)})}(t,r.attributes,o.attributes,u=u||"svg"===o.nodeName);for(var a=[],f={},c={},d=0;d<r.children.length;d++){a[d]=t.childNodes[d];var h=r.children[d],p=v(h);null!=p&&(f[p]=[a[d],h])}for(var d=0,g=0;g<o.children.length;){var h=r.children[d],y=o.children[g],p=v(h),k=v(y);if(c[p])d++;else if(null==k)null==p&&(e(t,a[d],h,y,u),g++),d++;else{var w=f[k]||[];p===k?(e(t,w[0],w[1],y,u),d++):w[0]?e(t,t.insertBefore(w[0],a[d]),w[1],y,u):e(t,a[d],null,y,u),g++,c[k]=y}}for(;d<r.children.length;){var h=r.children[d];null==v(h)&&b(t,a[d],h),d++}for(var d in f)c[f[d][1].key]||b(t,f[d][0],f[d][1])}else o.nodeName===r.nodeName?t.nodeValue=o:(t=n.insertBefore(N(o,u),l=t),b(n,l,r));return t}(r,u,l,l=e));e=i.pop();)e()}function d(){o||(o=!o,setTimeout(c))}function s(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t}function h(e,n,t){var r={};return e.length?(r[e[0]]=e.length>1?h(e.slice(1),n,t[e[0]]):n,s(t,r)):n}function p(e,n){for(var t=0;t<e.length;t++)n=n[e[t]];return n}function v(e){return e?e.key:null}function m(e,n,t,r,o){if("key"===n);else if("style"===n)for(var i in s(o,t))e[n][i]=null==t||null==t[i]?"":t[i];else"function"==typeof t||n in e&&!r?e[n]=null==t?"":t:null!=t&&!1!==t&&e.setAttribute(n,t),null!=t&&!1!==t||e.removeAttribute(n)}function N(e,n){var t="string"==typeof e||"number"==typeof e?document.createTextNode(e):(n=n||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName);if(e.attributes){e.attributes.oncreate&&i.push(function(){e.attributes.oncreate(t)});for(var r=0;r<e.children.length;r++)t.appendChild(N(e.children[r],n));for(var o in e.attributes)m(t,o,e.attributes[o],n)}return t}function b(e,n,t,r){function o(){e.removeChild(function e(n,t,r){if(r=t.attributes){for(var o=0;o<t.children.length;o++)e(n.childNodes[o],t.children[o]);r.ondestroy&&r.ondestroy(n)}return n}(n,t))}t.attributes&&(r=t.attributes.onremove)?r(n,o):o()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.h=e,exports.app=n;
},{}],4:[function(require,module,exports) {
"use strict";var E;function T(E,T,R){return T in E?Object.defineProperty(E,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[T]=R,E}Object.defineProperty(exports,"__esModule",{value:!0});var R=exports.ROW_NUMBERS=8,e=exports.COLUMN_NUMBERS=8,L=exports.STATUSES={EMPTY:"EMPTY",BLACK:"BLACK",WHITE:"WHITE"},P=exports.DIRECTIONS={UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT",UPPER_RIGHT:"UPPER_RIGHT",UPPER_LEFT:"UPPER_LEFT",LOWER_RIGHT:"LOWER_RIGHT",LOWER_LEFT:"LOWER_LEFT"},r=exports.DIRECTIONS_DELTA=(T(E={},P.UPPER_LEFT,{x:-1,y:-1}),T(E,P.UP,{x:0,y:-1}),T(E,P.UPPER_RIGHT,{x:1,y:-1}),T(E,P.LEFT,{x:-1,y:0}),T(E,P.RIGHT,{x:1,y:0}),T(E,P.LOWER_LEFT,{x:-1,y:1}),T(E,P.DOWN,{x:0,y:1}),T(E,P.LOWER_RIGHT,{x:1,y:1}),E);
},{}],5:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.countUpCells=exports.findCell=exports.getCells=exports.cloneBoard=exports.initializeBoard=void 0;var r=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r},t=require("./constants");function n(r){if(Array.isArray(r)){for(var t=0,n=Array(r.length);t<r.length;t++)n[t]=r[t];return n}return Array.from(r)}var e=exports.initializeBoard=function(r,n){var e=Array.from({length:r}).map(function(r,e){return Array.from({length:n}).map(function(r,n){return{status:t.STATUSES.EMPTY,position:{x:n,y:e},selectable:!0}})}),o=[e[r/2][n/2-1],e[r/2-1][n/2]],u=[e[r/2][n/2],e[r/2-1][n/2-1]];return o.forEach(function(r){return r.status=t.STATUSES.BLACK}),u.forEach(function(r){return r.status=t.STATUSES.WHITE}),[].concat(o,u).forEach(function(r){return r.selectable=!1}),e},o=exports.cloneBoard=function(t){return t.map(function(t){return t.map(function(t){return r({},t)})})},u=exports.getCells=function(r){return r.reduce(function(r,t){return[].concat(n(r),n(t))})},i=exports.findCell=function(r){var t=r.board,n=r.position,e=n.x,o=n.y;return u(t).find(function(r){var t=r.position,n=t.x,u=t.y;return e===n&&o===u})},a=exports.countUpCells=function(r){var n=u(r);return{black:n.filter(function(r){return r.status===t.STATUSES.BLACK}).length,white:n.filter(function(r){return r.status===t.STATUSES.WHITE}).length}};
},{"./constants":4}],6:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("hyperapp"),t=function(t){var o=t.status,l=t.position,n=t.selectable,r=t.onselect,s=["cell",o.toLowerCase(),n?"selectable":null].filter(function(e){return e}).join(" ");return(0,e.h)("div",{class:s,onclick:function(){r({position:l}),console.log(l)}})};exports.default=t;
},{"hyperapp":8}],7:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("hyperapp"),s=require("../board-utils"),t=function(t){var a=t.board,r=t.isBlackTurn,i=t.gameFinished,l=t.onclickRestart,c=void 0;if(i){var o=(0,s.countUpCells)(a),u=o.black,n=o.white,d=void 0;d=u===n?"Draw":(u>n?"Black":"White")+" won!",c=[(0,e.h)("div",{class:"message"},d+" (Black: "+u+", White: "+n+")"),(0,e.h)("button",{class:"restart-button",onclick:l},"Restart game")]}else c=(0,e.h)("div",{class:"message"},(r?"Black":"White")+"'s turn");return(0,e.h)("div",{class:"game-status"},c)};exports.default=t;
},{"hyperapp":8,"../board-utils":5}],3:[function(require,module,exports) {
"use strict";var t=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=require("hyperapp"),r=require("./constants"),n=require("./board-utils"),i=require("./components/Cell"),a=u(i),o=require("./components/GameStatus"),l=u(o);function u(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var s=Object.values(r.DIRECTIONS),S=Object.values(r.DIRECTIONS_DELTA),d=function(e){var n=Object.entries(r.DIRECTIONS_DELTA).find(function(r){var n=t(r,2),i=(n[0],n[1]),a=i.x,o=i.y;return e.x===a&&e.y===o})||[];return t(n,1)[0]},f=function(t){var e=t.board,r=t.position,i=r.x,a=r.y;return S.map(function(t){var r=t.x,o=t.y;return(0,n.findCell)({board:e,position:{x:i+r,y:a+o}})}).filter(function(t){return t})},T=function(t){var e=t.board,i=t.position,a=t.isBlackTurn;i.x,i.y,(0,n.findCell)({board:e,position:i});if(currentStatus!==r.STATUSES.EMPTY)return!1;a?r.STATUSES.BLACK:r.STATUSES.WHITE},b=function t(e){var i=e.board,a=e.cell,o=e.targetStatus,l=e.direction,u=e.reversibleCells,s=void 0===u?[]:u,S=o===r.STATUSES.BLACK?r.STATUSES.WHITE:r.STATUSES.BLACK,d=a.position,f=r.DIRECTIONS_DELTA[l],T=(0,n.findCell)({board:i,position:{x:d.x+f.x,y:d.y+f.y}}),b=[].concat(c(s),[a]);return T?T.status===r.STATUSES.EMPTY?[]:T.status===S?b:t({board:i,cell:T,targetStatus:o,direction:l,reversibleCells:b}):[]},p=function(t){var e=t.board,n=t.cell,i=t.isBlackTurn?r.STATUSES.BLACK:r.STATUSES.WHITE,a=n.position;return f({board:e,position:a}).filter(function(t){return t.status===i}).some(function(t){var r=t.position,n={x:r.x-a.x,y:r.y-a.y},o=d(n);return b({board:e,cell:t,targetStatus:i,direction:o}).length>0})},E={isBlackTurn:!0,board:(0,n.initializeBoard)(r.ROW_NUMBERS,r.COLUMN_NUMBERS),gameFinished:!1},v={initialize:function(){return function(t,e){e.initializeState(),e.updateSelectableCells()}},initializeState:function(){return function(){return{isBlackTurn:!0,board:(0,n.initializeBoard)(r.ROW_NUMBERS,r.COLUMN_NUMBERS),gameFinished:!1}}},updateSelectableCells:function(){return function(t){var e=t.board,i=t.isBlackTurn,a=(0,n.cloneBoard)(e),o=(0,n.getCells)(a).filter(function(t){return t.status===r.STATUSES.EMPTY});o.forEach(function(t){return t.selectable=!1});var l=o.filter(function(t){return p({board:a,cell:t,isBlackTurn:!i})});return l.forEach(function(t){return t.selectable=!0}),{board:a,gameFinished:0===l.length}}},select:function(t){var e=t.position;return function(t){var i=t.board,a=t.isBlackTurn,o=(0,n.cloneBoard)(i),l=(0,n.findCell)({board:o,position:e});if(l.selectable)return s.map(function(t){return b({board:o,cell:l,targetStatus:a?r.STATUSES.WHITE:r.STATUSES.BLACK,direction:t})}).reduce(function(t,e){return[].concat(c(t),c(e))}).forEach(function(t){t.status=a?r.STATUSES.BLACK:r.STATUSES.WHITE,t.selectable=!1}),console.log(o),{board:o,isBlackTurn:!a}}},selectAndUpdateSelectableCells:function(t){var e=t.position;return function(t,r){r.select({position:e}),r.updateSelectableCells()}}},A=function(t,r){var n=t.board,i=t.isBlackTurn,o=t.gameFinished;return(0,e.h)("div",{oncreate:r.updateSelectableCells},[(0,e.h)("div",{class:"board"},n.map(function(t){return(0,e.h)("div",{class:"row"},t.map(function(t){var e=t.status,n=t.position,i=t.selectable;return(0,a.default)({status:e,position:n,selectable:i,onselect:r.selectAndUpdateSelectableCells})}))})),(0,l.default)({board:n,isBlackTurn:i,gameFinished:o,onclickRestart:r.initialize}),(0,e.h)("div",{class:"info"},(0,e.h)("a",{class:"link github",href:"https://github.com/syumai/hyper-reversi/"},"GitHub"))])},y=(0,e.app)(E,v,A,document.body);
},{"hyperapp":8,"./constants":4,"./board-utils":5,"./components/Cell":6,"./components/GameStatus":7}]},{},[3])